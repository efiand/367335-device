var mapContainer=document.querySelector(".map");if(mapContainer){var mapOnBtn=document.querySelector(".contacts__map-link"),mapOffBtn=document.querySelector(".contacts__close--map"),mapCanvas=document.getElementById("map");function init(){var e=new ymaps.Map("map",{center:[55.68703,37.52959],zoom:17,controls:[]});e.geoObjects.add(new ymaps.Placemark([55.687,37.53022],{hintContent:"улица Строителей, 15"},{iconLayout:"default#image",iconImageHref:"img/icons/map-marker.svg",iconShadow:!1,iconImageSize:[142,46],iconImageOffset:[-71,-46]})),e.behaviors.disable("scrollZoom")}mapOnBtn.addEventListener("click",function(e){e.preventDefault(),mapContainer.classList.add("map--js")}),mapOffBtn.addEventListener("click",function(e){mapContainer.classList.remove("map--js")}),mapCanvas.addEventListener("keydown",function(e){27===e.keyCode&&mapContainer.classList.contains("map--js")&&mapContainer.classList.remove("map--js")}),ymaps.ready(init)}var menuOnBtn=document.querySelector(".nav__spoiler-btn--on"),menuOffBtn=document.querySelector(".nav__spoiler-btn--off"),menuBlock=document.querySelector(".categories-cat");menuOnBtn.removeAttribute("disabled"),menuOnBtn.addEventListener("click",function(){menuBlock.classList.contains("categories-cat--js")||menuBlock.classList.add("categories-cat--js"),menuOnBtn.classList.contains("nav__spoiler-btn--on-js")||menuOnBtn.classList.add("nav__spoiler-btn--on-js"),menuOffBtn.classList.contains("nav__spoiler-btn--off-js")||menuOffBtn.classList.add("nav__spoiler-btn--off-js")}),menuOffBtn.addEventListener("click",function(){menuBlock.classList.contains("categories-cat--js")&&menuBlock.classList.remove("categories-cat--js"),menuOnBtn.classList.contains("nav__spoiler-btn--on-js")&&menuOnBtn.classList.remove("nav__spoiler-btn--on-js"),menuOffBtn.classList.contains("nav__spoiler-btn--off-js")&&menuOffBtn.classList.remove("nav__spoiler-btn--off-js")});var searchForm=document.querySelector(".search"),searchField=document.querySelector(".search__field");searchForm.addEventListener("submit",function(e){e.preventDefault(),searchField.value=searchField.value.trim(),searchField.classList.contains("search__field--js")&&searchField.classList.remove("search__field--js"),searchField.value?searchForm.submit():searchField.classList.add("search__field--js")});var feedbackForm=document.getElementById("feedback");if(feedbackForm){var feedbackOnBtn=document.querySelector(".info__link--feedback"),feedbackOffBtn=document.querySelector(".contacts__close--feedback"),feedbackName=document.getElementById("name"),feedbackMail=document.getElementById("email"),feedbackText=document.getElementById("text");feedbackOnBtn.addEventListener("click",function(e){e.preventDefault(),feedbackForm.classList.add("feedback--js"),feedbackName.value=localStorage.getItem("name"),feedbackMail.value=localStorage.getItem("email"),feedbackText.value=localStorage.getItem("text"),feedbackName.value?feedbackMail.value?feedbackText.focus():feedbackMail.focus():feedbackName.focus()}),feedbackName.addEventListener("blur",function(e){feedbackName.classList.contains("feedback__field--js")&&feedbackName.classList.remove("feedback__field--js"),feedbackName.value=feedbackName.value.trim();/[А-Я]{1}[а-я]+ [А-Я]{1}[а-я]+/.test(feedbackName.value)?localStorage.setItem("name",feedbackName.value):(feedbackName.classList.add("feedback__field--js"),feedbackName.value="",feedbackName.focus())}),feedbackMail.addEventListener("blur",function(e){feedbackMail.classList.contains("feedback__field--js")&&feedbackMail.classList.remove("feedback__field--js"),feedbackMail.value=feedbackMail.value.trim();/.+@.+\..+/i.test(feedbackMail.value)?localStorage.setItem("email",feedbackMail.value):(feedbackMail.classList.add("feedback__field--js"),feedbackMail.value="",feedbackMail.focus())}),feedbackText.addEventListener("blur",function(e){feedbackText.classList.contains("feedback__field--js")&&feedbackText.classList.remove("feedback__field--js"),feedbackText.value=feedbackText.value.trim(),feedbackText.value?localStorage.setItem("text",feedbackText.value):(feedbackText.classList.add("feedback__field--js"),feedbackText.value="",feedbackText.focus())}),feedbackForm.addEventListener("submit",function(e){e.preventDefault(),feedbackForm.classList.remove("feedback--js"),feedbackForm.submit()}),feedbackForm.addEventListener("keydown",function(e){27===e.keyCode&&feedbackForm.classList.contains("feedback--js")&&feedbackForm.classList.remove("feedback--js")}),feedbackOffBtn.addEventListener("click",function(e){e.preventDefault(),feedbackForm.classList.remove("feedback--js")})}